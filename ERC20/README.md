# ERC20代币合约

## True Together Token（TTR）

> 2018.5.11 - v1.0 - Felix

### 特性（在ERC20的基础上）

* 在2018年8月16日0:00:00（时间戳：1534348800，单位秒）之前，TTR具有投票的功能；在这之后TTR将不具备投票功能，而只保留标准ERC20代币的功能。

* 调用投票功能`vote()``voteAll()`会增加账户内的冻结资金`frozen`，同时为投票目标地址增加相应的得票数`totalVotes`。被冻结的资金不能超过账户TTR的总量，而且在投票结束前，账户转出交易也不能使剩余TTR总量小于冻结资金总量（即这部分用于投票的资金被锁定）。值得注意的是单账户投票的权力完全等于总TTR持有量，但是在投票过程中并没有实际TTR的转移，在投票结束后所有有关冻结资金`frozen`的判定将会自动停用，保障了用户账户中TTR的安全使用。

* 每当投票行为产生，会触发`Vote(address, address, uint256)`事件，包含投票人、被投票人、投票数。

### 投票规则解释

* 基于ERC20的转账并不会触发投票事件，相对的，投票并不会使得TTR发生转移。另外投出的票不能再用于转投。因此使用通常意义上的转账`transfer()``transferFrom()`来转移**投票权**及**TTR本身**，用投票`vote()``voteAll()`来**实际将选票投出**（可以投给自己）。

* 大部分其他的第三方轻钱包APP只能实现正常TTR的转账，而不能实现投票，也不能看到和投票相关的信息（当然仍可以直接通过合约地址来调用任何转账或者是投票功能，如果有这个条件的话）。因此推荐使用我们对应的轻钱包应用，它将会在接下来的版本中专门推出和TTR相关的功能模块。

* 最终投票的结果取决于每个地址对应的得票数`totalVotes`，这个字段在投票时间过后将无法被更改。